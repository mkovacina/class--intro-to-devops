<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>docker</title>

		<!-- <base href="../../tools/reveal.js"> -->
		<link rel="stylesheet" href="../../tools/reveal.js/dist/reset.css">
		<link rel="stylesheet" href="../../tools/reveal.js/dist/reveal.css">
		<link rel="stylesheet" href="../../tools/reveal.js/dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../../tools/reveal.js/plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
					<textarea data-template data-separator-notes="^Notes:">
					## Docker 
					
					Notes:
					- an operating level virtualization mechanism
					</textarea>
				</section>

				<section>
					<section data-markdown>
						<textarea data-template data-separator-notes="^Notes:">
						## But first, some history...

						- bare metal
						- machine images
						- virtual machines
						- chroot, ssh jails, cgroups 

						Notes:
						- bare metal
							- expensive / no sharing resources
							- messy
							- slow to provision 
						- machine images
							- expensive / no sharing resources
							- more reproducible
							- slow to provision
						- virtual machines
							- hardware virtualization	
							- better hardware utilization
							- reproducible environment

						---

						## What is Docker

						- OS-level virtualization as opposed to hardware
							- uses existing system calls instead of virtualizing (Wine) 
						- software packaged into "containers"
						- better resource utilization/partitioning
						- (should be) quicker to start versus a virtual machine 
						- can only host guest OSs different from the host 
							- i.e., can't do Windows on Linux
							- virtual machines + containers
						- written in Go
					</textarea>
					</section>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template data-separator-notes="^Notes:">
						## Terminology

						- container 
							- an isolated process running on your machine 
						- container image 
							- custom file system that has everything needed to run the app (dependencies, scripts, etc
							- environment variables, default command to run, etc
						---
						## Terminology
						- docker engine
							- the container runtime (daemon)
						- `docker` command 
							- used to interact with the docker engine 
						---
						## Terminology
						- docker desktop
							- application for building and running containers for developers
						- docker hub
							- publish your containers for others to use 
						- dockerfile 
							- text file containing all the commands needed to assemble an image
						</textarea>
					</section>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template data-separator-notes="^Notes:">
						## Dockerfile

						a dockerfile describes the composition of the container images
						- the set of instructions which acts as a multi-layer filesystem
						- each command is layer
						
						[a real example](https://github.com/mkovacina/sweep)

						[CLI reference](https://docs.docker.com/engine/reference/commandline/cli/)
						---
						1. `docker version`
						---
						1. `docker image --help`  
						2. `docker image ls`  
						3. `docker images`  
						4. `docker image prune`  
						---
						1. `docker ps`
						2. `docker ps -a`

						Notes:
						- image versus container instance
						---
						1. `docker run hello-world`
						---
						1. `docker build --tag sweep/shell .devcontainer`  
						2. `docker images`  
						3. `docker build --tag sweep/shell:1.0 .devcontainer`  
						---
						1. `docker run -it -v ${pwd}:/sweep sweep/shell`
						---
						1. `docker save sweep/shell -o sweep-shell.tgz`
						2. `docker load sweep/shell -i sweep-shell.tgz`
						</textarea>
					</section>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template data-separator-notes="^Notes:">
						</textarea>
					</section>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template data-separator-notes="^Notes:">
						</textarea>
					</section>
				</section>
			</div>
		</div>

		<script src="../../tools/reveal.js/dist/reveal.js"></script>
		<script src="../../tools/reveal.js/plugin/notes/notes.js"></script>
		<script src="../../tools/reveal.js/plugin/markdown/markdown.js"></script>
		<script src="../../tools/reveal.js/plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
